@page "{id:int}"
@model H3AuctionHouse.Pages.ItemDetailsModel
@{
    ViewData["Title"] = "Details";
    if (HttpContext.Session.GetString("user") != null)
    {
        <form method="post">
            <h2>Bid on Item</h2>
            <hr>
            <div asp-validation-summary="All"></div>
            <div>
                <label asp-for="@Model.BidValue"></label>
                <input asp-for="@Model.BidValue">
                <button type="submit">Bid now</button>
            </div>
        </form>
    }
    else
    {
        <p>You have to logged in, in order to bid on item</p>
    }
    <table class="table">
        <thead>
            <tr>
                <th>Item Name</th>
                <th>Description</th>
                <th>Expirery Date</th>
                <th>Category</th>
                <th>Status</th>
                <th>Highest Bid</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    @Html.DisplayFor(modelitem => Model.Item.Product.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelitem => Model.Item.Product.Description)
                </td>
                <td>
                    @Html.DisplayFor(modelitem => Model.Item.Product.ExpireryDate)
                </td>
                <td>
                    @Html.DisplayFor(modelitem => Model.Item.Product.Category)
                </td>
                <td>
                    @Html.DisplayFor(modelitem => Model.Item.Product.Status)
                </td>
                <td>
                    @Html.DisplayFor(modelitem => Model.Item.Product.HighestBidder)
                </td>
            </tr>
        </tbody>
    </table>
    <p>@Model.Msg</p>
}
