@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
        <form>
            <p>
                @*Creates a new select tag for every value Model.Categorys has*@
                @*Value will be binded to our SelectedCategory property*@
                <select asp-for="SelectedCategory" asp-items="Model.Categorys">
                    <option value="">All</option>
                </select>
                <input type="submit" value="Filter" />
            </p>
        </form>
        <table class="table">
            <thead>
                <tr>
                    <th>Item Name</th>
                    <th>Description</th>
                    <th>Expirery Date</th>
                    <th>Category</th>
                    <th>Status</th>
                    <th>Highest Bid</th>
                </tr>
            </thead>
            <tbody>
                @*Loops through every item from our list of Items and creates a new row in our table*@
                @foreach (var item in Model.Items)
                {
                    @*Displays the value from the item object*@
                    <tr>
                        <td>
                            @Html.DisplayFor(modelitem => item.Product.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelitem => item.Product.Description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelitem => item.Product.ExpireryDate)
                        </td>
                        <td>
                            @Html.DisplayFor(modelitem => item.Product.Category)
                        </td>
                        <td>
                            @Html.DisplayFor(modelitem => item.Product.Status)
                        </td>
                        <td>
                            @Html.DisplayFor(modelitem => item.Product.HighestBidder)
                        </td>

                        <td>
                            @*Is user clicks on details, redirects to ItemDetails page with id*@
                            <a asp-page="/ItemDetails" asp-route-id="@item.Product.Id">Details</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
        @*Display our error message*@
        <p>@Model.Errormsg</p>
}
